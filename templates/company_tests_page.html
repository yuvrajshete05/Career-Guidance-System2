



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Company-Wise Mock Tests</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0d1117; /* Darker background */
      background-image: radial-gradient(at 10% 20%, rgb(18, 20, 24), transparent 50%), radial-gradient(at 90% 80%, rgb(16, 17, 20), transparent 50%);
    }

    /* Custom CSS for a vibrant text gradient */
    .gradient-text {
      background: linear-gradient(90deg, #6EE7B7, #3B82F6, #93C5FD);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
    }
  </style>
</head>
<body class="bg-gray-950 text-gray-200 p-4 sm:p-8">

  <div class="container mx-auto max-w-7xl my-10 p-6 sm:p-10 bg-gray-900 rounded-3xl shadow-2xl border border-gray-800 backdrop-blur-md">
    <!-- Heading -->
    <h1 class="text-3xl sm:text-4xl font-extrabold mb-6 text-center gradient-text">
      Select a Company to Begin Your Test Prep
    </h1>

    <!-- Search Bar -->
    <div class="flex justify-center mb-8">
      <input id="searchBox" type="text" placeholder="Search company..."
        class="w-full sm:w-1/2 px-4 py-3 rounded-lg border border-gray-700 bg-gray-800 text-white focus:ring-2 focus:ring-teal-500 focus:outline-none transition-all duration-300 hover:shadow-lg hover:border-teal-500">
    </div>

    <!-- Company Grid -->
    <div id="companyGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
      <!-- Cards will be dynamically generated by JavaScript -->
    </div>

    <!-- Back to Home -->
    <div class="text-center mt-8">
      <a href="{% url 'home' %}" class="inline-block px-6 py-3 text-lg font-bold text-white bg-blue-600 rounded-full hover:bg-blue-700 transition-colors shadow-lg">
        ‚Üê Go back to Home
      </a>
    </div>
  </div>

  <!-- Dynamic Content & Search Filter Script -->
  <script>
    // List of companies with their names and Clearbit domain
    const companies = [
      { name: "TCS", domain: "tcs.com" },
      { name: "Infosys", domain: "infosys.com" },
      { name: "Wipro", domain: "wipro.com" },
      { name: "HCL Technologies", domain: "hcltech.com" },
      { name: "Tech Mahindra", domain: "techmahindra.com" },
      { name: "Cognizant", domain: "cognizant.com" },
      { name: "Capgemini", domain: "capgemini.com" },
      { name: "Accenture India", domain: "accenture.com" },
      { name: "IBM India", domain: "ibm.com" },
      { name: "DXC Technology", domain: "dxc.com" },
      { name: "LTI Mindtree", domain: "mindtree.com" },
      { name: "Mphasis", domain: "mphasis.com" },
      { name: "Hexaware Technologies", domain: "hexaware.com" },
      { name: "Persistent Systems", domain: "persistent.com" },
      { name: "Birlasoft", domain: "birlasoft.com" },
      { name: "Coforge", domain: "coforge.com" },
      { name: "Zensar Technologies", domain: "zensar.com" },
      { name: "Atos Syntel", domain: "atos.net" },
      { name: "Atos India", domain: "atos.net" },
      { name: "Oracle Financial Services", domain: "oracle.com" },
      { name: "Cyient", domain: "cyient.com" },
      { name: "Sonata Software", domain: "sonata-software.com" },
      { name: "KPIT Technologies", domain: "kpit.com" },
      { name: "Sasken Technologies", domain: "sasken.com" },
      { name: "UST Global", domain: "ust.com" },
      { name: "Virtusa", domain: "virtusa.com" },
      { name: "Happiest Minds", domain: "happiestminds.com" },
      { name: "3i Infotech", domain: "3i-infotech.com" },
      { name: "Ramco Systems", domain: "ramco.com" },
      { name: "VirtusaPolaris", domain: "virtusa.com" },
      { name: "Mindteck", domain: "mindteck.com" },
      { name: "QuEST Global", domain: "quest-global.com" },
      { name: "Nucleus Software", domain: "nucleussoftware.com" },
      { name: "Rolta India", domain: "rolta.com" },
      { name: "L&T Technology Services", domain: "ltts.com" },
      { name: "Blue Star Infotech", domain: "bluestarindia.com" },
      { name: "Newgen Software", domain: "newgensoft.com" },
      { name: "Xchanging (DXC)", domain: "xchanging.com" },
      { name: "Nihilent Technologies", domain: "nihilent.com" },
      { name: "iGATE (Capgemini)", domain: "igate.com" },
      { name: "Mahindra Satyam", domain: "techmahindra.com" },
      { name: "CGI India", domain: "cgi.com" },
      { name: "Sutherland", domain: "sutherlandglobal.com" },
      { name: "Sify Technologies", domain: "sifytechnologies.com" },
      { name: "HGS", domain: "teamhgs.com" },
      { name: "Intellect Design Arena", domain: "intellectdesign.com" },
      { name: "Allsec Technologies", domain: "allsectech.com" },
      { name: "8K Miles Software", domain: "8kmiles.com" },
      { name: "eClerx Services", domain: "eclerx.com" },
      { name: "Google India", domain: "google.com" },
      { name: "Microsoft India", domain: "microsoft.com" },
      { name: "Amazon India", domain: "amazon.in" },
      { name: "Facebook India", domain: "facebook.com" },
      { name: "Apple India", domain: "apple.com" },
      { name: "Paytm", domain: "paytm.com" },
      { name: "Flipkart", domain: "flipkart.com" },
      { name: "Reliance Jio", domain: "jio.com" },
      { name: "Samsung India", domain: "samsung.com" },
      { name: "Adobe India", domain: "adobe.com" },
      { name: "VMware India", domain: "vmware.com" },
      { name: "Cisco India", domain: "cisco.com" },
      { name: "Dell India", domain: "dell.com" },
      { name: "Intel India", domain: "intel.com" },
      { name: "NVIDIA India", domain: "nvidia.com" },
      { name: "Oracle India", domain: "oracle.com" },
      { name: "SAP India", domain: "sap.com" },
      { name: "Qualcomm India", domain: "qualcomm.com" },
      { name: "LinkedIn India", domain: "linkedin.com" },
      { name: "Zoho Corporation", domain: "zoho.com" },
      { name: "Freshworks", domain: "freshworks.com" },
    ];

    window.addEventListener("DOMContentLoaded", () => {
      const grid = document.getElementById("companyGrid");
      companies.forEach(c => {
        const card = document.createElement("div");
        card.className = "company-card group flex flex-col items-center justify-center p-4 bg-gray-800 rounded-2xl border border-gray-700 shadow-xl transition-all duration-300 hover:bg-gray-700 hover:-translate-y-2 hover:shadow-2xl hover:scale-105 cursor-pointer";
        card.setAttribute("data-name", c.name);
        card.setAttribute("data-domain", c.domain);

        card.innerHTML = `
          <img src="https://logo.clearbit.com/${c.domain}" alt="${c.name} Logo" 
              class="h-16 w-16 object-contain mb-3 rounded-lg transition-transform duration-300 group-hover:scale-110"/>
          <span class="company-name text-sm font-semibold text-center mt-2 group-hover:text-white transition-colors">${c.name}</span>
        `;
        
        // Add the new click event listener with the fetch API call
        card.addEventListener('click', async () => {
          const companySlug = c.name.toLowerCase().replace(/\s/g, '-').replace(/[^a-z0-9-]/g, '');

          // Show a simple loading message
          const loadingDiv = document.createElement('div');
          loadingDiv.className = "fixed inset-0 flex items-center justify-center bg-gray-950 bg-opacity-75 text-white text-xl z-50";
          loadingDiv.innerHTML = "Loading company info...";
          document.body.appendChild(loadingDiv);
          
          try {
            const response = await fetch(`/api/company_info/${companySlug}/`);
            const data = await response.json();

            // Hide the loading message
            document.body.removeChild(loadingDiv);

            if (response.ok) {
              // Now display the info in an alert box
              alert(`Company: ${data.company_name}\n\nSummary: ${data.summary}`);
            } else {
              alert(`Error: ${data.error}`);
            }
          } catch (error) {
            // Hide the loading message and show a general error
            document.body.removeChild(loadingDiv);
            alert('An error occurred. Please try again.');
          }
        });

        grid.appendChild(card);
      });
    });

    const searchBox = document.getElementById("searchBox");
    searchBox.addEventListener("input", () => {
      const query = searchBox.value.toLowerCase();
      document.querySelectorAll(".company-card").forEach(card => {
        const name = card.getAttribute("data-name").toLowerCase();
        card.style.display = name.includes(query) ? "flex" : "none";
      });
    });
</script>

</body>
</html>
